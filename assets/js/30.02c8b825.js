(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{321:function(t,s,a){"use strict";a.r(s);var n=a(14),r=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"nexttick"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nexttick"}},[t._v("#")]),t._v(" nextTick()")]),t._v(" "),s("h3",{attrs:{id:"vue环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue环境"}},[t._v("#")]),t._v(" Vue环境")]),t._v(" "),s("p",[t._v("是一个vue框架定义的API,作用是在下次 DOM 更新循环结束之后执行延迟回调，开发者可以在这个时候获取最新渲染的视图")]),t._v(" "),s("h3",{attrs:{id:"nodejs环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nodejs环境"}},[t._v("#")]),t._v(" Nodejs环境")]),t._v(" "),s("p",[t._v("node 中的 nextTick 是 node 自带全局的变量 process 的一个方法，"),s("strong",[t._v("process.nextTick 是一个微任务，在 node 的所有微任务中最先执行，是优先级最高的微任务")]),t._v("。浏览器中是没有这一个方法的。")]),t._v(" "),s("p",[t._v("这对于需要高性能、低延迟的场景非常有用，例如在某些异步操作完成后立即执行清理工作或状态更新。")]),t._v(" "),s("p",[s("strong",[t._v("使用场景")]),t._v("\n异步操作前的准备工作：在开始一个耗时的异步操作之前，进行一些轻量级的初始化或验证工作。\n递归异步操作中的回调控制：避免递归调用中的栈溢出问题。\n状态同步：在事件循环的当前阶段结束后，但不希望阻塞其他宏任务的情况下，更新内部状态。\n资源释放：在异步操作结束时立即执行资源释放逻辑。")]),t._v(" "),s("h2",{attrs:{id:"nexttick在nodejs环境不同模块中的执行时机"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#nexttick在nodejs环境不同模块中的执行时机"}},[t._v("#")]),t._v(" nextTick在Nodejs环境不同模块中的执行时机")]),t._v(" "),s("p",[t._v("nodejs模块化分为两种模块，一种是 "),s("strong",[t._v("ES6 模块")]),t._v("，简称 "),s("strong",[t._v("ESM")]),t._v("；另一种是 Node.js 专用的 CommonJS 模块，简称 "),s("strong",[t._v("CJS")]),t._v("。这两种模块"),s("strong",[t._v("不兼容。")])]),t._v(" "),s("h3",{attrs:{id:"es6-模块和-commonjs-模块有很大的差异。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#es6-模块和-commonjs-模块有很大的差异。"}},[t._v("#")]),t._v(" ES6 模块和 CommonJS 模块有很大的差异。")]),t._v(" "),s("p",[s("strong",[t._v("语法上面")]),t._v("，CommonJS 模块使用"),s("code",[t._v("require()")]),t._v("加载和"),s("code",[t._v("module.exports")]),t._v("输出，ES6 模块使用"),s("code",[t._v("import")]),t._v("和"),s("code",[t._v("export")]),t._v("。")]),t._v(" "),s("p",[s("strong",[t._v("用法上面")]),t._v("，"),s("strong",[s("code",[t._v("require()")]),t._v("是同步加载")]),t._v("，后面的代码必须等待这个命令执行完，才会执行。"),s("strong",[s("code",[t._v("import")]),t._v("命令则是异步加载")]),t._v("，或者更准确地说，ES6 模块有一个独立的静态解析阶段，依赖关系的分析是在那个阶段完成的，最底层的模块第一个执行。")]),t._v(" "),s("p",[s("strong",[t._v("重点来了")])]),t._v(" "),s("p",[t._v("由于commonjs加载模块时是同步加载，因此nextTick代码可以被优先执行，在当前其它所有微任务之前执行（事件循环）")]),t._v(" "),s("p",[t._v("而ES6加载模块采用的是异步加载，采用的是async await模式加载模块，本身就可以看成一个微任务，所以nextTick会延迟到当前代码执行后再执行。")]),t._v(" "),s("h2",{attrs:{id:"取消网络请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#取消网络请求"}},[t._v("#")]),t._v(" 取消网络请求")]),t._v(" "),s("h3",{attrs:{id:"原生fetch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#原生fetch"}},[t._v("#")]),t._v(" 原生fetch")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" controller "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AbortController")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//新建AbortController")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" signal "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" controller"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("signal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//获得标识符")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("fetch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" signal "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//暂停signal标记的请求")]),t._v("\ncontroller"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("abort")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h3",{attrs:{id:"axios"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#axios"}},[t._v("#")]),t._v(" axios")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" source "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" axios"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("CancelToken"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("source")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \naxios"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/data'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("cancelToken")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" source"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("token\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 请求成功处理")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 错误处理")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在需要的时候取消请求")]),t._v("\nsource"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("cancel")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'请求取消的原因'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),s("h2",{attrs:{id:"对函数式编程的理解"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对函数式编程的理解"}},[t._v("#")]),t._v(" 对函数式编程的理解")]),t._v(" "),s("p",[t._v("函数式编程是一种基于数学函数计算的"),s("strong",[t._v("编程范式")]),t._v("。它强调使用"),s("strong",[t._v("纯函数")]),t._v("、"),s("strong",[t._v("不可变性")]),t._v("和"),s("strong",[t._v("高阶函数")]),t._v("来解决问题。")]),t._v(" "),s("h3",{attrs:{id:"纯函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#纯函数"}},[t._v("#")]),t._v(" 纯函数")]),t._v(" "),s("p",[t._v("没有任何副作用，相同的输入获得相同的输出（易于测试）")]),t._v(" "),s("h3",{attrs:{id:"不可变性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#不可变性"}},[t._v("#")]),t._v(" 不可变性")]),t._v(" "),s("p",[t._v("在创建数据结构后，不可对其进行修改")]),t._v(" "),s("h3",{attrs:{id:"高阶函数-函数柯里化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#高阶函数-函数柯里化"}},[t._v("#")]),t._v(" 高阶函数，函数柯里化")]),t._v(" "),s("p",[t._v("一个函数的参数/返回值也是一个函数")]),t._v(" "),s("h3",{attrs:{id:"优点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#优点"}},[t._v("#")]),t._v(" 优点")]),t._v(" "),s("p",[t._v("可复用性，易于测试，易于维护，更优雅的函数组合，更加简洁")]),t._v(" "),s("h3",{attrs:{id:"缺点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缺点"}},[t._v("#")]),t._v(" 缺点")]),t._v(" "),s("p",[t._v("错误使用闭包导致内存泄漏，递归性能问题")])])}),[],!1,null,null,null);s.default=r.exports}}]);