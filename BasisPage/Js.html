<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>数据类型 | 吴炫境个人博客</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="代码学习记录">
    
    <link rel="preload" href="/fffBlog/assets/css/0.styles.a74e95d9.css" as="style"><link rel="preload" href="/fffBlog/assets/js/app.cec7b3d6.js" as="script"><link rel="preload" href="/fffBlog/assets/js/2.92b40a62.js" as="script"><link rel="preload" href="/fffBlog/assets/js/1.40f520a9.js" as="script"><link rel="preload" href="/fffBlog/assets/js/26.d9494331.js" as="script"><link rel="prefetch" href="/fffBlog/assets/js/10.0c61e136.js"><link rel="prefetch" href="/fffBlog/assets/js/11.2c20532d.js"><link rel="prefetch" href="/fffBlog/assets/js/12.c582b446.js"><link rel="prefetch" href="/fffBlog/assets/js/13.207a685b.js"><link rel="prefetch" href="/fffBlog/assets/js/14.1fdf4a2a.js"><link rel="prefetch" href="/fffBlog/assets/js/15.9fb4f1ad.js"><link rel="prefetch" href="/fffBlog/assets/js/16.9e0b3e50.js"><link rel="prefetch" href="/fffBlog/assets/js/17.aba044a2.js"><link rel="prefetch" href="/fffBlog/assets/js/18.beba6154.js"><link rel="prefetch" href="/fffBlog/assets/js/19.fe18b34a.js"><link rel="prefetch" href="/fffBlog/assets/js/20.d016de69.js"><link rel="prefetch" href="/fffBlog/assets/js/21.bedebcf0.js"><link rel="prefetch" href="/fffBlog/assets/js/22.0942125b.js"><link rel="prefetch" href="/fffBlog/assets/js/23.2b2a8dca.js"><link rel="prefetch" href="/fffBlog/assets/js/24.b8a35182.js"><link rel="prefetch" href="/fffBlog/assets/js/25.f57de6ea.js"><link rel="prefetch" href="/fffBlog/assets/js/27.db387258.js"><link rel="prefetch" href="/fffBlog/assets/js/28.ca541479.js"><link rel="prefetch" href="/fffBlog/assets/js/29.70adba3c.js"><link rel="prefetch" href="/fffBlog/assets/js/3.182c257f.js"><link rel="prefetch" href="/fffBlog/assets/js/30.02c8b825.js"><link rel="prefetch" href="/fffBlog/assets/js/31.1ccc7f5f.js"><link rel="prefetch" href="/fffBlog/assets/js/32.79b32ca7.js"><link rel="prefetch" href="/fffBlog/assets/js/33.e45d1bf9.js"><link rel="prefetch" href="/fffBlog/assets/js/34.58b6d383.js"><link rel="prefetch" href="/fffBlog/assets/js/35.e356d625.js"><link rel="prefetch" href="/fffBlog/assets/js/36.795ee075.js"><link rel="prefetch" href="/fffBlog/assets/js/37.bb6c6325.js"><link rel="prefetch" href="/fffBlog/assets/js/4.a29c46b6.js"><link rel="prefetch" href="/fffBlog/assets/js/5.e6661a5c.js"><link rel="prefetch" href="/fffBlog/assets/js/6.4c5bfda8.js"><link rel="prefetch" href="/fffBlog/assets/js/7.f22cdc7f.js"><link rel="prefetch" href="/fffBlog/assets/js/vendors~docsearch.11055bee.js">
    <link rel="stylesheet" href="/fffBlog/assets/css/0.styles.a74e95d9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fffBlog/" class="home-link router-link-active"><!----> <span class="site-name">吴炫境个人博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fffBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/html.html" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/Js.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/ES6.html" class="nav-link">
  ES6新特性
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/ts.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/something.html" class="nav-link">
  杂记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端框架" class="mobile-dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fffBlog/FrameworkPage/index.html" class="nav-link">
  框架概述
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/FrameworkPage/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/FrameworkPage/react.html" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="构建工具" class="dropdown-title"><span class="title">构建工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="构建工具" class="mobile-dropdown-title"><span class="title">构建工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fffBlog/toolPage/webpack.html" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/fffBlog/browserPage/browser.html" class="nav-link">
  浏览器相关
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机系统" class="dropdown-title"><span class="title">计算机系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机系统" class="mobile-dropdown-title"><span class="title">计算机系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fffBlog/CNTPage/cnt.html" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/CNTPage/algorithm.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/CNTPage/dataStructure.html" class="nav-link">
  数据结构
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/fffBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端基础" class="dropdown-title"><span class="title">前端基础</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端基础" class="mobile-dropdown-title"><span class="title">前端基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/html.html" class="nav-link">
  HTML5
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/Js.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  JavaScript
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/css.html" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/ES6.html" class="nav-link">
  ES6新特性
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/ts.html" class="nav-link">
  TypeScript
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/BasisPage/something.html" class="nav-link">
  杂记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端框架" class="dropdown-title"><span class="title">前端框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端框架" class="mobile-dropdown-title"><span class="title">前端框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fffBlog/FrameworkPage/index.html" class="nav-link">
  框架概述
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/FrameworkPage/vue.html" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/FrameworkPage/react.html" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="构建工具" class="dropdown-title"><span class="title">构建工具</span> <span class="arrow down"></span></button> <button type="button" aria-label="构建工具" class="mobile-dropdown-title"><span class="title">构建工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fffBlog/toolPage/webpack.html" class="nav-link">
  webpack
</a></li></ul></div></div><div class="nav-item"><a href="/fffBlog/browserPage/browser.html" class="nav-link">
  浏览器相关
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机系统" class="dropdown-title"><span class="title">计算机系统</span> <span class="arrow down"></span></button> <button type="button" aria-label="计算机系统" class="mobile-dropdown-title"><span class="title">计算机系统</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fffBlog/CNTPage/cnt.html" class="nav-link">
  计算机网络
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/CNTPage/algorithm.html" class="nav-link">
  算法
</a></li><li class="dropdown-item"><!----> <a href="/fffBlog/CNTPage/dataStructure.html" class="nav-link">
  数据结构
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>数据类型</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/fffBlog/BasisPage/Js.html#数据类型" class="sidebar-link">数据类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#基本数据类型" class="sidebar-link">基本数据类型</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#引用数据类型有五种" class="sidebar-link">引用数据类型有五种</a></li></ul></li><li><a href="/fffBlog/BasisPage/Js.html#数组方法总结" class="sidebar-link">数组方法总结</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#改变原数组方法" class="sidebar-link">改变原数组方法</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#不改变数组的方法" class="sidebar-link">不改变数组的方法</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#其它方法" class="sidebar-link">其它方法</a></li></ul></li><li><a href="/fffBlog/BasisPage/Js.html#内存管理" class="sidebar-link">内存管理</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#栈的优缺点" class="sidebar-link">栈的优缺点</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#堆的优缺点" class="sidebar-link">堆的优缺点</a></li></ul></li><li><a href="/fffBlog/BasisPage/Js.html#js中为什么0-1-0-2-0-3" class="sidebar-link">JS中为什么0.1+0.2 != 0.3</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#解决方案" class="sidebar-link">解决方案</a></li></ul></li><li><a href="/fffBlog/BasisPage/Js.html#深浅拷贝" class="sidebar-link">深浅拷贝</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fffBlog/BasisPage/Js.html#什么是内存泄漏-以及如何判断和检测" class="sidebar-link">什么是内存泄漏，以及如何判断和检测</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#判断和检测-浏览器开发者工具performance-memory" class="sidebar-link">判断和检测：浏览器开发者工具Performance，Memory</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#memeory快照中的detached-dom-tree" class="sidebar-link">Memeory快照中的Detached DOM tree</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#常见的内存泄漏的场景" class="sidebar-link">常见的内存泄漏的场景</a></li></ul></li><li><a href="/fffBlog/BasisPage/Js.html#dom如何插入一个兄弟结点" class="sidebar-link">DOM如何插入一个兄弟结点</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fffBlog/BasisPage/Js.html#javascript引擎" class="sidebar-link">Javascript引擎</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fffBlog/BasisPage/Js.html#v8引擎的垃圾回收机制" class="sidebar-link">V8引擎的垃圾回收机制</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fffBlog/BasisPage/Js.html#javascript垃圾回收机制原理" class="sidebar-link">javascript垃圾回收机制原理</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fffBlog/BasisPage/Js.html#requestanimationframe" class="sidebar-link">requestAnimationFrame</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fffBlog/BasisPage/Js.html#dom是什么" class="sidebar-link">DOM是什么</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/fffBlog/BasisPage/Js.html#this指向问题" class="sidebar-link">this指向问题</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#普通模式" class="sidebar-link">普通模式</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#严格模式" class="sidebar-link">严格模式</a></li></ul></li><li><a href="/fffBlog/BasisPage/Js.html#如何判断空对象" class="sidebar-link">如何判断空对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#_1-object-keys" class="sidebar-link">1.Object.keys()</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#_2-for-in" class="sidebar-link">2.for...in</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#_3-json-stringify" class="sidebar-link">3.JSON.stringify</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#_4-object-getownpropertynames-或-object-getownpropertysymbols" class="sidebar-link">4.Object.getOwnPropertyNames() 或 Object.getOwnPropertySymbols()</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#_5-reflect-ownkeys" class="sidebar-link">5.Reflect.ownKeys()</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#_6-object-entries" class="sidebar-link">6.Object.entries()</a></li></ul></li><li><a href="/fffBlog/BasisPage/Js.html#js数组存储模式" class="sidebar-link">JS数组存储模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#如何做" class="sidebar-link">如何做</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#快数组" class="sidebar-link">快数组</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#慢数组" class="sidebar-link">慢数组</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#区别" class="sidebar-link">区别</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#快数组转慢数组" class="sidebar-link">快数组转慢数组</a></li><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#慢数组转快数组" class="sidebar-link">慢数组转快数组</a></li></ul></li><li><a href="/fffBlog/BasisPage/Js.html#arguments参数类数组" class="sidebar-link">arguments参数类数组</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/fffBlog/BasisPage/Js.html#严格模式和非严格模式下的区别" class="sidebar-link">严格模式和非严格模式下的区别</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h2> <h3 id="基本数据类型"><a href="#基本数据类型" class="header-anchor">#</a> 基本数据类型</h3> <p>Number，String，Boolean，Undefined，Null，Symbol，BigInt</p> <h3 id="引用数据类型有五种"><a href="#引用数据类型有五种" class="header-anchor">#</a> 引用数据类型有五种</h3> <p>Object，Array，Function，Date，RegExp</p> <h2 id="数组方法总结"><a href="#数组方法总结" class="header-anchor">#</a> 数组方法总结</h2> <h3 id="改变原数组方法"><a href="#改变原数组方法" class="header-anchor">#</a> 改变原数组方法</h3> <p>arr.pop()，arr.push()，arr.shift()，arr.unshift()，arr.reverse()，arr.sort()</p> <p>arr.splice(index，len，[item]) //从下标index处开始<strong>删除</strong>len个元素，并替换为item,返回值为被删的项目数组</p> <h3 id="不改变数组的方法"><a href="#不改变数组的方法" class="header-anchor">#</a> 不改变数组的方法</h3> <p>arr.join()，arr.toString()，arr.indexOf()，arr.find()，arr.forEach()，arr.concat()</p> <p>arr.slice(begin,[end])，截取[begin,end/tail)的数组返回**(左闭右开)**，不改变原数组</p> <h3 id="其它方法"><a href="#其它方法" class="header-anchor">#</a> 其它方法</h3> <p>arr.map()，arr.filter()，arr.reduce((prev,cur)=&gt;{},init)</p> <h2 id="内存管理"><a href="#内存管理" class="header-anchor">#</a> 内存管理</h2> <p>js中的变量都存储在内存中，而内存又给变量开辟了两个存储空间：栈空间和堆空间</p> <p>基本数据类型：栈空间</p> <p>引用数据类型：堆空间（对象）</p> <p><strong>为什么这么放？？</strong></p> <h3 id="栈的优缺点"><a href="#栈的优缺点" class="header-anchor">#</a> 栈的优缺点</h3> <p><strong>优点</strong>：先入后出，存取速度快，<strong>有利于快速分配和释放内存，不会出现内存碎片的问题</strong></p> <p><strong>缺点</strong>：</p> <p>有限大小，超出栈空间大小时会溢出</p> <p>局部性，只能在局部作用域访问，不适合存储和长期保存大量数据</p> <h3 id="堆的优缺点"><a href="#堆的优缺点" class="header-anchor">#</a> 堆的优缺点</h3> <p>**特点：**无序存储，动态分配，手动释放</p> <p><strong>优点</strong>：动态分配，不受限于栈的大小限制，可以存储大量和复杂的数据结构</p> <p><strong>缺点</strong>：内存泄漏，如果没有手动释放内存容易引发内存泄漏</p> <p>​	   分配和释放内存的速度较慢</p> <p><strong>栈存储函数调用和局部变量，采用先进后出的存储方式；堆存储复杂的数据结构和对象，采用动态分配的存储方式。</strong></p> <h2 id="js中为什么0-1-0-2-0-3"><a href="#js中为什么0-1-0-2-0-3" class="header-anchor">#</a> JS中为什么0.1+0.2 != 0.3</h2> <p>因为浮点数是以二进制形式存储和计算的，包含符号位，指数位，尾数位</p> <p>数字转二进制的原则：<strong>乘二取整</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">0.1</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.2</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> 取整数 <span class="token number">0</span>，小数 <span class="token number">0.2</span>
<span class="token number">0.2</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.4</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> 取整数 <span class="token number">0</span>，小数 <span class="token number">0.4</span>
<span class="token number">0.4</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.8</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> 取整数 <span class="token number">0</span>，小数 <span class="token number">0.8</span>
<span class="token number">0.8</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.6</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> 取整数 <span class="token number">1</span>，小数 <span class="token number">0.6</span>
<span class="token number">0.6</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.2</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> 取整数 <span class="token number">1</span>，小数 <span class="token number">0.2</span>
<span class="token number">0.2</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.4</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> 取整数 <span class="token number">0</span>，小数 <span class="token number">0.4</span>
<span class="token number">0.4</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">0.8</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> 取整数 <span class="token number">0</span>，小数 <span class="token number">0.8</span>
<span class="token number">0.8</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.6</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> 取整数 <span class="token number">1</span>，小数 <span class="token number">0.6</span>
<span class="token number">0.6</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">=</span> <span class="token number">1.2</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span> 取整数 <span class="token number">1</span>，小数 <span class="token number">0.2</span>
<span class="token operator">...</span>
<span class="token comment">//无限循环</span>
<span class="token comment">//对于浮点数，二进制无法精确表示。</span>
</code></pre></div><p>因此转化之后的二进制相加，会有多余的尾数</p> <h3 id="解决方案"><a href="#解决方案" class="header-anchor">#</a> 解决方案</h3> <ol><li>缩放成整数计算</li> <li>toFixed()保留小数</li> <li>Math.round四舍五入</li></ol> <h2 id="深浅拷贝"><a href="#深浅拷贝" class="header-anchor">#</a> 深浅拷贝</h2> <ul><li>浅拷贝（shallow copy）：只复制指向某个对象的指针，而不复制对象本身，新旧对象共享一块内存。</li> <li>深拷贝（deep copy）：复制并创建一个一模一样的对象，不共享内存，修改新对象，旧对象保持不变。</li></ul> <p><strong>浅拷贝实现</strong></p> <p>Object.assign,Array.from(),Array.concat(),[...obj]</p> <p><strong>深拷贝实现</strong></p> <p>递归，JSON.parse(JSON.stringify(Obj))(无法深拷贝方法function)</p> <h2 id="什么是内存泄漏-以及如何判断和检测"><a href="#什么是内存泄漏-以及如何判断和检测" class="header-anchor">#</a> 什么是内存泄漏，以及如何判断和检测</h2> <p>内存泄漏是指程序中<strong>已分配的内存未能成功释放</strong>，导致<strong>可用内存逐渐减少</strong>的现象</p> <h3 id="判断和检测-浏览器开发者工具performance-memory"><a href="#判断和检测-浏览器开发者工具performance-memory" class="header-anchor">#</a> 判断和检测：浏览器开发者工具Performance，Memory</h3> <p>1.录制Performance,查看js堆内存使用折线图，如果<strong>内存下限</strong>一直升高，很可能发生内存泄漏</p> <p>2.进入Memory,录制快照对比，采用Gmail的Three Snapshotd对比法</p> <ol><li>打开DevTools, 切换至Memory面板</li> <li>先记录一个堆内存快照</li> <li>在你的页面上执行可能发生泄漏的操作</li> <li>再记录一个堆内存快照</li> <li>重复执行多几遍步骤3</li> <li>最后记录一个堆内存快照</li> <li>选择最后一个堆内存快照，找到顶栏的“All objects”, 切换至”Objects allocated between snapshots 1 and 2”（也可以对2，3执行同样的操作）</li></ol> <p>可以查看到快照之间新生成的对象，以及它们有没有被释放。（尽量在开发环境检测，生产环境的变量名会被打包混淆）</p> <h3 id="memeory快照中的detached-dom-tree"><a href="#memeory快照中的detached-dom-tree" class="header-anchor">#</a> Memeory快照中的Detached DOM tree</h3> <p>一个DOM节点只有在没有被页面的DOM树或者Javascript引用时，才会被垃圾回收。当一个节点处于“detached”状态，表示它已经不在DOM树上了，但Javascript仍旧对它有引用，所以暂时没有被回收。Detached DOM tree往往会造成内存泄漏</p> <h3 id="常见的内存泄漏的场景"><a href="#常见的内存泄漏的场景" class="header-anchor">#</a> 常见的内存泄漏的场景</h3> <p>1.定时器未被清除</p> <p>2.闭包的私有变量保存</p> <p>3.未移除的事件监听</p> <p>4.console.log()的对象保存，打印的对象不会被回收</p> <h2 id="dom如何插入一个兄弟结点"><a href="#dom如何插入一个兄弟结点" class="header-anchor">#</a> DOM如何插入一个兄弟结点</h2> <p>**insertBefore(newNode,referenceNode)**方法，用于在父节点的指定位置插入子结点，即在referenceNode前插入newNode,当referenceNode为null,则插入到末尾</p> <p>代码实现</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 1111<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>2222<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">var</span> newNode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        newNode<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">'新节点'</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> item1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'item1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//获取父节点，使用insertBefore在item1的下一个兄弟结点之前插入新元素</span>
        <span class="token comment">//即实现在item1后面插入新节点</span>
        item1<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>newNode<span class="token punctuation">,</span> item1<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//dom.nextSibling,dom.preSibling获取上/下个兄弟节点</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="javascript引擎"><a href="#javascript引擎" class="header-anchor">#</a> Javascript引擎</h2> <p>SpiderMonkey：第一款JavaScript引擎，是JavaScript作者开发的</p> <p>Chakra:微软开发的，用于IE浏览器</p> <p>JavaScriptCore： webKit中内置的JavaScript引擎，Apple公司开发的</p> <p>V8：Google开发的强大的JavaScript引擎，也帮助Chrome在众多浏览器中脱颖而出</p> <h2 id="v8引擎的垃圾回收机制"><a href="#v8引擎的垃圾回收机制" class="header-anchor">#</a> V8引擎的垃圾回收机制</h2> <p><strong>准确式垃圾回收机制</strong>。从根对象开始（根对象可以是全局对象、活动函数栈等），遍历内存中的对象，并给所有可达的对象打上标记。<strong>可达对象指的是能够从根对象出发直接或间接访问到的对象</strong>。未被标记的对象则被视为不可达，即被判定为垃圾。清除阶段：遍历整个堆内存，将未被标记的对象进行回收，并释放其占用的内存空间。这些未被标记的对象被认为是不再被程序所使用的垃圾对象。</p> <p><strong>分代回收机制</strong>。V8 中将堆内存分为 新生代 和 老生代 两区域，采用不同的垃圾回收器也就是不同的策略管理垃圾回收。（V8垃圾回收是并行回收）</p> <p>新生代 的内存一般都不大，所以使用 <strong>Scavenge</strong> 算法 进行垃圾回收效果比较好。老生代 一般占用内存较大，因此采用的是 <strong>标记清除算法</strong>。（导致产生大量内存碎片，因此使用标记整理算法整理）</p> <h2 id="javascript垃圾回收机制原理"><a href="#javascript垃圾回收机制原理" class="header-anchor">#</a> javascript垃圾回收机制原理</h2> <p>解决内存的泄露，垃圾回收机制会定期（周期性）找出那些不再用到的内存（变量），然后释放其内存。</p> <h2 id="requestanimationframe"><a href="#requestanimationframe" class="header-anchor">#</a> requestAnimationFrame</h2> <p>window的一个api，可以调节重新渲染，大幅提高网页性能。其中最重要的，它可以将<strong>某些代码放到下一次重新渲染时执行</strong>。避免短时间内触发大量reflow。常用于动画。</p> <p>主要特点：</p> <p>与屏幕刷新同步：requestAnimationFrame 会与浏览器的屏幕刷新频率同步，通常是每秒 60 次，这意味着动画会在每秒刷新 60 次，呈现更平滑的效果。</p> <p>自动优化：浏览器会自动暂停或者降低频率执行 requestAnimationFrame 的回调函数，当页面不可见或者被隐藏时，以节省 CPU 和电池消耗。</p> <p>最佳化性能：使用 requestAnimationFrame 可以避免一些问题，比如在不可见的标签页中运行动画会浪费资源，而 requestAnimationFrame 可以确保动画只在页面可见时执行。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">animate</span><span class="token punctuation">(</span><span class="token parameter">DOMHighResTimeStamp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//会获得一个参数，代表上一帧渲染的结束时间戳（ms）</span>
  <span class="token comment">//done();</span>
  <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//这个函数是一次性的，如果需要持续性动画，必须要递归调用</span>
<span class="token punctuation">}</span> 
<span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>animate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="dom是什么"><a href="#dom是什么" class="header-anchor">#</a> DOM是什么</h2> <p>Document Object Model文档对象模型，把每一个html标签和其中的属性看成一个对象，使得在js中可以实现对html标签元素进行操作（控制html标签的接口）。</p> <p>BOM:Browser Object Model浏览器对象模型，window，location，为了控制浏览器行为的接口。</p> <h2 id="this指向问题"><a href="#this指向问题" class="header-anchor">#</a> this指向问题</h2> <p><strong>ES5中未浏览器添加了第二种运行模式：&quot;严格模式&quot;，因此，javascript在浏览器运行时的this指向需要分两种情况讨论。</strong></p> <p><strong>函数的this指向是在定义的时候确定而不是在调用的时候确定的</strong></p> <h3 id="普通模式"><a href="#普通模式" class="header-anchor">#</a> 普通模式</h3> <p>1.this指向window</p> <p>2.全局函数的this指向window</p> <p>3.箭头函数的this指向外层最近的this</p> <h3 id="严格模式"><a href="#严格模式" class="header-anchor">#</a> 严格模式</h3> <p>严格模式下，全局函数this指向为undefined</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;use strict&quot;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//window</span>
<span class="token keyword">var</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//undefined</span>
</code></pre></div><p>使用bind,call,apply可以改变普通函数的this指向</p> <p>一旦使用bind函数改变了this的指向，该函数的this指向不会再改变，即使再次使用call或者bind改变，也依然是第一次的值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> <span class="token function-variable function">fn1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> fn2 <span class="token operator">=</span> <span class="token function">fn1</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//obj1</span>
<span class="token comment">//同一个函数两次bind</span>
<span class="token function">fn1</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//obj2</span>
<span class="token comment">//对bind之后的函数再bind</span>
<span class="token function">fn2</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj3<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//obj1</span>
</code></pre></div><p><strong>bind生成的新函数无法再被改变this指向</strong></p> <h2 id="如何判断空对象"><a href="#如何判断空对象" class="header-anchor">#</a> 如何判断空对象</h2> <h3 id="_1-object-keys"><a href="#_1-object-keys" class="header-anchor">#</a> 1.Object.keys()</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token operator">===</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span>
</code></pre></div><h3 id="_2-for-in"><a href="#_2-for-in" class="header-anchor">#</a> 2.for...in</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> isEmpty <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        isEmpty <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-json-stringify"><a href="#_3-json-stringify" class="header-anchor">#</a> 3.JSON.stringify</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'{}'</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-object-getownpropertynames-或-object-getownpropertysymbols"><a href="#_4-object-getownpropertynames-或-object-getownpropertysymbols" class="header-anchor">#</a> 4.<code>Object.getOwnPropertyNames()</code> 或 <code>Object.getOwnPropertySymbols()</code></h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-reflect-ownkeys"><a href="#_5-reflect-ownkeys" class="header-anchor">#</a> 5.Reflect.ownKeys()</h3> <p>最为全面，返回所有键名，包括不可枚举和Symbol键名</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_6-object-entries"><a href="#_6-object-entries" class="header-anchor">#</a> 6.Object.entries()</h3> <p>返回所有可枚举键值对</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">if</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>Symbol类型的key是不可枚举的！！</strong></p> <h2 id="js数组存储模式"><a href="#js数组存储模式" class="header-anchor">#</a> JS数组存储模式</h2> <p>其它语言常规的存储模式：一块存放相同类型内容的连续的空间</p> <p>BUT，JS数组允许存放不同类型的元素</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">]</span>
</code></pre></div><p>并且JS数组支持动态修改length，如push,pop</p> <p>因此V8引擎对数组的存储模式进行了优化。</p> <h3 id="如何做"><a href="#如何做" class="header-anchor">#</a> 如何做</h3> <p>采用**快数组(快速模式)<strong>和</strong>慢数组(字典模式)**来存储数组</p> <h3 id="快数组"><a href="#快数组" class="header-anchor">#</a> 快数组</h3> <p>与C++/C的模式相同，采用<strong>连续的空间</strong>来存放数组。</p> <h3 id="慢数组"><a href="#慢数组" class="header-anchor">#</a> 慢数组</h3> <p>采用hashTable形式来存储数组，即一个只允许键名为索引值的字典</p> <p>慢数组在访问元素时，会先<strong>将索引值强制转换为字符类型</strong>，通过键名去访问元素</p> <h3 id="区别"><a href="#区别" class="header-anchor">#</a> 区别</h3> <ul><li><strong>存储方式</strong>方面：快数组内存中是连续的，慢数组在内存中是零散分配的。</li> <li><strong>内存使用</strong>方面：由于快数组内存是连续的，可能需要开辟一大块供其使用，其中还可能有很多空洞，是比较费内存的。慢数组不会有空洞的情况，且都是零散的内存，比较节省内存空间。</li> <li><strong>遍历效率</strong>方面：快数组由于是空间连续的，遍历速度很快，而慢数组每次都要寻找<code>key</code> 的位置，遍历效率会差一些。<strong>快数组的遍历效率比满慢数组高很多</strong></li></ul> <h3 id="快数组转慢数组"><a href="#快数组转慢数组" class="header-anchor">#</a> 快数组转慢数组</h3> <p><strong>默认情况下</strong>，对数组的声明，都会先采用快速模式，为数组开辟一定大小的连续空间。</p> <ul><li>当新容量<strong>大于等于3倍</strong>的扩容后的容量，会转变为慢数组。</li> <li>当<strong>加入的索引值<code>index</code>比当前容量<code>capacity</code>差值大于等于<code>1024</code></strong> 时，也就是至少有<code>1024</code>个<code>HOLEY</code>时，即会转为慢数组</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span><span class="token comment">//声明，此时容量为0,默认快数组</span>
arr<span class="token punctuation">[</span><span class="token number">1026</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//存在1026个holey空位置，转为慢数组</span>
</code></pre></div><h3 id="慢数组转快数组"><a href="#慢数组转快数组" class="header-anchor">#</a> 慢数组转快数组</h3> <p>当慢数组的元素可存放在快数组中且长度小于 <code>Smi::kMaxValue</code> 且当前慢数组相对于快数组仅节省了少于或等于<code>50%</code>的空间，则转变为快数组。</p> <h2 id="arguments参数类数组"><a href="#arguments参数类数组" class="header-anchor">#</a> arguments参数类数组</h2> <p><code>arguments</code> 是一个对应于传递给函数的参数的<strong>类数组</strong>对象</p> <p>类数组：允许使用索引下标访问元素，拥有length属性，不能使用数组方法(pop,slice,sort)；</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> arrayLike <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">0</span><span class="token operator">:</span> <span class="token string">'I'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'Love'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">'You'</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span><span class="token string">'!'</span><span class="token punctuation">,</span> <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>但是</strong></p> <p>可以使用Array.prototype.xxx.call()来使用数组方法(因为arguments允许遍历，通过改变this来调用)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//类数组转数组</span>
<span class="token keyword">var</span> args <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="严格模式和非严格模式下的区别"><a href="#严格模式和非严格模式下的区别" class="header-anchor">#</a> 严格模式和非严格模式下的区别</h3> <p>在严格模式下，无论参数如何变化，arguments对象都不会随之改变</p> <p>在非严格模式下，参数的重新赋值会更新到arguments对象中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//非严格</span>
<span class="token keyword">const</span> <span class="token function-variable function">func1</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//0;</span>
	a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//1;</span>
<span class="token punctuation">}</span>
<span class="token comment">//严格</span>
<span class="token string">&quot;use strict&quot;</span>
<span class="token keyword">const</span> <span class="token function-variable function">func2</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//0;</span>
	a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//0;</span>
<span class="token punctuation">}</span>
<span class="token function">func1</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">func2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/fffBlog/assets/js/app.cec7b3d6.js" defer></script><script src="/fffBlog/assets/js/2.92b40a62.js" defer></script><script src="/fffBlog/assets/js/1.40f520a9.js" defer></script><script src="/fffBlog/assets/js/26.d9494331.js" defer></script>
  </body>
</html>
